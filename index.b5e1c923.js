class e{DOM={el:null,image:null,imageInner:null,link:null,meta:null,title:null,desc:null};constructor(e,t){this.DOM.el=e,this.preview=t,this.DOM.image=this.DOM.el.querySelector(".item__img"),this.DOM.imageInner=this.DOM.el.querySelector(".item__img-inner"),this.DOM.link=this.DOM.el.querySelector(".item__link"),this.DOM.meta=this.DOM.el.querySelector(".item__meta"),this.DOM.title=this.DOM.el.querySelector(".item__title"),this.DOM.desc=this.DOM.el.querySelector(".item__desc"),this.DOM.link.addEventListener("mouseenter",()=>{gsap.killTweensOf(this.DOM.imageInner),gsap.to(this.DOM.imageInner,{duration:2,ease:"power4",scale:1.2})}),this.DOM.link.addEventListener("mouseleave",()=>{gsap.killTweensOf(this.DOM.imageInner),gsap.to(this.DOM.imageInner,{duration:.7,ease:"expo",scale:1})})}}const t=e=>{let t=getComputedStyle(e);return e.clientHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))},i=(e,t,i)=>{e.forEach(e=>{let r=document.createElement(t);r.classList=i,e.parentNode.appendChild(r),r.appendChild(e)})};class r{DOM={el:null};SplitTypeInstance;isVisible;inTimeline;outTimeline;constructor(e){this.DOM={el:e},this.SplitTypeInstance=new SplitType(this.DOM.el,{types:"lines"}),i(this.SplitTypeInstance.lines,"div","oh"),this.initEvents()}in(e=!0){return this.isVisible=!0,gsap.killTweensOf(this.SplitTypeInstance.lines),this.inTimeline=gsap.timeline({defaults:{duration:1.1,ease:"power4.inOut"}}).addLabel("start",0).set(this.SplitTypeInstance.lines,{yPercent:105},"start"),e?this.inTimeline.to(this.SplitTypeInstance.lines,{yPercent:0,stagger:.05},"start"):this.inTimeline.set(this.SplitTypeInstance.lines,{yPercent:0},"start"),this.inTimeline}out(e=!0){return this.isVisible=!1,gsap.killTweensOf(this.SplitTypeInstance.lines),this.outTimeline=gsap.timeline({defaults:{duration:1.1,ease:"power4.inOut"}}).addLabel("start",0),e?this.outTimeline.to(this.SplitTypeInstance.lines,{yPercent:-105,stagger:.05},"start"):this.outTimeline.set(this.SplitTypeInstance.lines,{yPercent:-105},"start"),this.outTimeline}initEvents(){window.addEventListener("resize",()=>{this.SplitTypeInstance.split(),i(this.SplitTypeInstance.lines,"div","oh"),this.isVisible||gsap.set(this.SplitTypeInstance.lines,{yPercent:105})})}}class s{DOM={el:null,image:null,imageInner:null,title:null,backCtrl:null,innerElements:null,multiLineWrap:null};multiLines=[];constructor(e){this.DOM.el=e,this.DOM.image=this.DOM.el.querySelector(".preview__img"),this.DOM.imageInner=this.DOM.el.querySelector(".preview__img-inner"),this.DOM.title=this.DOM.el.querySelector(".preview__title"),this.DOM.backCtrl=this.DOM.el.querySelector(".preview__back"),this.DOM.innerElements=[...this.DOM.el.querySelectorAll(".oh__inner")],this.DOM.multiLineWrap=[...this.DOM.el.querySelectorAll(".preview__column > p")],this.DOM.multiLineWrap.forEach(e=>this.multiLines.push(new r(e)))}}class n{DOM={el:null,inner:null};constructor(e){this.DOM.el=e,this.DOM.inner=this.DOM.el.querySelector(".layers__item-img")}}class l{DOM={el:null,words:null};totalWords=3;tyIncrement=20;delayIncrement=.01;scrollTimeline;observer;constructor(e){this.DOM.el=e,this.layout(),this.setBoundaries(),this.createScrollTimeline(),this.createObserver(),window.addEventListener("resize",()=>this.setBoundaries())}layout(){let e=Math.floor(this.totalWords/2),t="";for(let i=0;i<this.totalWords;++i){let r,s;i===this.totalWords-1?(r=0,s=0):i<e?(r=e*this.tyIncrement-this.tyIncrement*i,s=this.delayIncrement*(e-i)-this.delayIncrement):(r=-1*(e*this.tyIncrement-(i-e)*this.tyIncrement),s=this.delayIncrement*(e-(i-e))-this.delayIncrement),t+=`<span data-delay="${s}" data-ty="${r}">${this.DOM.el.innerHTML}</span>`}this.DOM.el.innerHTML=t,this.DOM.el.classList.add("text-rep"),this.DOM.words=[...this.DOM.el.querySelectorAll("span")].slice(0,-1)}setBoundaries(){let e=t(this.DOM.el)*Math.floor(this.totalWords/2)*this.tyIncrement/100;gsap.set(this.DOM.el,{marginTop:e,paddingBottom:e})}createScrollTimeline(){this.scrollTimeline=gsap.timeline({paused:!0}).to(this.DOM.words,{duration:1,ease:"none",startAt:{opacity:0},opacity:1,yPercent:(e,t)=>t.dataset.ty,delay:(e,t)=>t.dataset.delay},0).to(this.DOM.words,{duration:1,ease:"none",opacity:0,yPercent:0,delay:(e,t)=>t.dataset.delay})}createObserver(){this.observer=new IntersectionObserver(e=>{e[0].intersectionRatio>0?(this.isLoaded||(this.isLoaded=!0),gsap.ticker.add(this.progressTween)):this.isLoaded?gsap.ticker.remove(this.progressTween):(this.isLoaded=!0,gsap.ticker.add(this.progressTween,!0))},{root:null,rootMargin:"0px 0px",threshold:0}),this.progressTween=()=>{let e=window.scrollY+window.innerHeight-this.DOM.el.offsetTop,t=window.innerHeight+this.DOM.el.offsetHeight;this.scrollTimeline.progress(e/t)},this.observer.observe(this.DOM.el)}}gsap.registerPlugin(ScrollTrigger);const a=window.innerWidth,o=window.innerHeight,c=document.querySelectorAll(".image");let d=gsap.utils.random(0,100,4,!0),p=gsap.utils.random(200,500,!0);const h=document.querySelector(".cursor"),u=document.querySelectorAll("a"),g=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","!","@","#","$","%","^","&","*","-","_","+","=",";",":","<",">",","];gsap.set(h,{xPercent:-50,yPercent:-50});const m=[...document.querySelectorAll(".content__title__work[data-splitting][data-effect8]")],y=e=>{gsap.set(e,{"font-kerning":"none"});let t=new SplitType(e,{types:"lines, words"}).lines,i=gsap.timeline({scrollTrigger:{trigger:e,start:"center center",end:"+=300%",scrub:!0,pin:e}}).set(e,{perspective:1e3});for(let[e,r]of t.entries()){gsap.set(r,{transformStyle:"preserve-3d"});let t=r.querySelectorAll(".word");i.to(t,{ease:"power2",opacity:0,xPercent:(e,t,i)=>e<i.length/2?Math.abs(e-i.length/2)*gsap.utils.random(-40,-10):Math.abs(e-i.length/2)*gsap.utils.random(10,40),yPercent:(e,t,i)=>Math.abs(e-i.length/2)*gsap.utils.random(-80,-40)-150,rotationY:(e,t,i)=>e>i.length/2?-15*Math.abs(e-i.length/2):15*Math.abs(e-i.length/2),z:(e,t,i)=>Math.abs(e-i.length/2)?gsap.utils.random(-40,-20):gsap.utils.random(20,40),stagger:{each:.01,from:"edges"}},.05*e)}},M=e=>{e.querySelectorAll(".char").forEach((t,i)=>{let r=t.innerHTML;gsap.fromTo(t,{opacity:0},{duration:.05,innerHTML:()=>g[Math.floor(Math.random()*g.length)],repeat:1,repeatRefresh:!0,opacity:1,repeatDelay:.03,delay:(i+1)*.18,onComplete:()=>gsap.set(t,{innerHTML:r,delay:.03}),scrollTrigger:{trigger:e,start:"top bottom",end:"bottom center",toggleActions:"play resume resume reset",onEnter:()=>gsap.set(t,{opacity:0})}})})};window.onbeforeunload=function(){window.scrollTo(0,0)};const w=document.querySelector("nav.responsiveCenteredLogo");w.addEventListener("click",()=>{w.classList.toggle("menuActive")}),gsap.registerPlugin(ScrollTrigger),Splitting();const O=document.querySelector(".layers"),D=document.querySelector(".heading"),f=document.querySelector(".responsiveCenteredLogo"),v=document.querySelector(".content-preloader"),T=[...O.querySelectorAll(".layers__item")],S=[];T.forEach(e=>{S.push(new n(e))});let b=null;const L={duration:1.4,ease:"power3.inOut",delayFactor:.2};window.addEventListener("load",e=>{if(b&&b.isActive())return!1;let t=S.map(e=>e.DOM.el),i=S[S.length-1].DOM.el,r=S.map(e=>e.DOM.inner),s=S[S.length-1].DOM.inner;(b=gsap.timeline({paused:!0,defaults:{duration:L.duration,ease:L.ease}}).fromTo(O,{scale:.9},{duration:L.duration+L.delayFactor*(S.length-1),ease:"linear",scale:1.1},0).fromTo(t,{opacity:1,"clip-path":"polygon(100% 0%, 100% 0%, 100% 100%, 100% 100%)"},{stagger:{each:L.delayFactor,onComplete:function(){let e=this.targets()[0],t=T.indexOf(e);t&&gsap.set(S[t-1].DOM.el,{opacity:0})}},"clip-path":"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"},0).fromTo(r,{xPercent:0,filter:"brightness(15%)"},{stagger:L.delayFactor,filter:"brightness(120%)"},0).addLabel("reveal",L.duration+L.delayFactor*(S.length-1)).to(i,{duration:1,ease:"power3","clip-path":"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)",onComplete:()=>D.classList.remove("ofh")},"reveal").to(s,{duration:1,ease:"power3",xPercent:-20,filter:"brightness(50%)",onComplete:()=>_},"<")).play()}),window.addEventListener("mousemove",function(e){gsap.set(h,{x:e.pageX,y:e.pageY})}),u.forEach(e=>{e.addEventListener("mouseover",e=>{gsap.to(h,{duration:.3,scale:1.8})}),e.addEventListener("mouseout",e=>{gsap.to(h,{duration:.3,scale:1})})});const _=gsap.from(".char",{duration:.8,opacity:0,scale:0,rotationX:180,delay:3.5,transformOrigin:"0% 50% -50",ease:"back",stagger:.05,onComplete:()=>gsap.to(".author",{duration:.5,opacity:1,onComplete:()=>I()})}),I=()=>{f.classList.remove("ofh"),v.remove()},k=gsap.from(".about__us",{width:"70%",ease:"back"});ScrollTrigger.create({trigger:".content__title",start:"top center",end:"bottom center",scrub:1,animation:k});const q=gsap.to(".events_2",{backgroundColor:"#181510"});ScrollTrigger.create({trigger:".events_2",start:"top top",end:"top top",scrub:1,animation:q,markers:!1});const E=gsap.to(".fullwidth-image",{"clip-path":"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"},0);ScrollTrigger.create({trigger:".fullwidth-image",start:"top top",end:"+=768",scrub:1,pin:!0,animation:E,markers:!1});const x=gsap.to(".fullwidth-image__overlay",{opacity:.7});ScrollTrigger.create({trigger:".fullwidth-image",start:"top top",end:"+=768",scrub:1,animation:x,markers:!1});const A=gsap.from(".fullwidth-image__text",{opacity:0});ScrollTrigger.create({trigger:".fullwidth-image",start:"top top",end:"+=768",scrub:1,animation:A,markers:!1}),c.forEach(e=>{d();let t=Math.round(d()*a)/100;e.style.top=Math.round(o)+"px",e.style.left=t+"px",a<800?(e.style.width=Math.round(p()/3)+"px",console.log(e.style.width=Math.round(p()/3)+"px")):e.style.width=Math.round(p())+"px",e.style.zIndex=Math.round(e.style.width.replace("px","")/40)}),gsap.to(".image",{y:function(e,t){return-Math.round(t.offsetHeight+o)+"px"},ease:"none",duration:function(e,t){return 1e4/t.style.width.replace("px","")},stagger:{amount:3,repeat:-1,delay:function(e,t){return -1e4/t.style.width.replace("px","")}}}).progress(.5),[...document.querySelectorAll("[data-split]")].forEach(e=>{y(e)}),document.querySelectorAll("[data-text-rep]").forEach(e=>{new l(e)}),m.forEach(e=>{M(e)});const C=document.body,P=document.querySelector(".work-subcontent"),H=[...document.querySelectorAll(".overlay__row")],W=[];[...document.querySelectorAll(".preview")].forEach(e=>W.push(new s(e)));const F=[];[...document.querySelectorAll(".item")].forEach((t,i)=>F.push(new e(t,W[i]))),console.log(F);const Y=e=>{gsap.timeline({defaults:{duration:1,ease:"power3.inOut"}}).add(()=>{P.classList.add("content--hidden")},"start").addLabel("start",0).set([e.preview.DOM.innerElements,e.preview.DOM.backCtrl],{opacity:0},"start").to(H,{scaleY:1},"start").addLabel("content","start+=0.6").add(()=>{C.classList.add("preview-visible"),C.style.overflow="hidden",e.preview.DOM.el.classList.add("preview--current")},"content").to([e.preview.DOM.image,e.preview.DOM.imageInner],{startAt:{y:e=>e?"101%":"-101%"},y:"0%"},"content").add(()=>{for(let t of e.preview.multiLines)t.in();gsap.set(e.preview.DOM.multiLineWrap,{opacity:1,delay:.1})},"content").to(e.preview.DOM.innerElements,{ease:"expo",startAt:{yPercent:101},yPercent:0,opacity:1},"content+=0.3").to(e.preview.DOM.backCtrl,{opacity:1},"content")},z=e=>{gsap.timeline({defaults:{duration:1,ease:"power3.inOut"}}).addLabel("start",0).to(e.preview.DOM.innerElements,{yPercent:-101,opacity:0},"start").add(()=>{for(let t of(C.style.overflowY="visible",e.preview.multiLines))t.out()},"start").to(e.preview.DOM.backCtrl,{opacity:0},"start").to(e.preview.DOM.image,{y:"101%"},"start").to(e.preview.DOM.imageInner,{y:"-101%"},"start").addLabel("grid","start+=0.6").to(H,{scaleY:0,onComplete:()=>{e.preview.DOM.el.classList.remove("preview--current"),P.classList.remove("content--hidden")}},"grid")};for(const e of F)e.DOM.link.addEventListener("click",()=>Y(e)),e.preview.DOM.backCtrl.addEventListener("click",()=>z(e));